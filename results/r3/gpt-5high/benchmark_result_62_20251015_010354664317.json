{
  "benchmark_config": {
    "benchmark_id": "62_2025-10-15T01:03:54.664287",
    "jira_id": "62",
    "jira_title": "Implement/Test API: GET /1.0/kb/bundles/search/{searchKey} - Search bundles",
    "benchmark_status": "completed",
    "total_run": 1,
    "total_passed": 1,
    "total_failed": 0
  },
  "test_config": {
    "benchmark_start_time": "2025-10-15T01:01:48.612705",
    "benchmark_end_time": "2025-10-15T01:03:54.664283",
    "framework": "analyze_gherkin_folder",
    "device": "Unknown",
    "llm_config": {
      "model": "gpt-5",
      "temperature": 1.0,
      "max_tokens": 16384,
      "seed": -1
    }
  },
  "benchmark_results": {
    "average_coverage_percentage": 86,
    "average_generation_time_seconds": 126.051578,
    "benchmark_output": [
      {
        "average_coverage_percentage": 86,
        "generation_time_seconds": 0.0,
        "generated_output_count": 1,
        "status": "completed",
        "gherkin_id": "62_qe_sup-gpt4.1_agent-gpt4.1_1748919997.feature",
        "coverage_analysis": [
          {
            "coverage_percentage": 86,
            "covered": [
              "Valid Request: Happy-path retrieval returns 200 with JSON array of Bundle objects.",
              "Empty Response: Scenarios cover no matches, offset beyond total, and limit=0.",
              "Pagination: Offset/limit handling, boundaries, large datasets, and max-sized requests are exercised.",
              "Query Parameters: Broad coverage of valid combinations and invalid values (negative offsets/limits, invalid audit, unexpected params).",
              "Authorization: Missing and invalid tokens return 401 as expected.",
              "Error Handling: Invalid inputs (4xx) plus server-side conditions (500/503/504) are tested.",
              "Content-Type: Response format validated as application/json.",
              "Performance/Concurrency: Large-limit and concurrent request behavior validated (non-functional)."
            ],
            "gaps": [
              "Caching Behavior: No checks for ETag/Last-Modified, Cache-Control, or conditional GETs (If-None-Match -> 304).",
              "Rate Limiting: No tests for throttling/429 responses or X-RateLimit headers under burst traffic.",
              "Defaults for optional params: No verification that offset defaults to 0, limit to 100, and audit to NONE when omitted, nor the resulting audit fields.",
              "Type validation edges: No tests for non-integer/overflow values (e.g., limit=abc, offset=3.14, int64 overflow) returning proper 4xx.",
              "Result ordering and pagination consistency: No assertion of deterministic sort order or no-duplication across pages/retries.",
              "Schema conformance: No validation that each Bundle matches the OpenAPI #/definitions/Bundle (including audit structures per mode).",
              "Search key encoding/edge cases: No tests for URL-encoded/reserved chars, whitespace-only/empty searchKey, or Unicode handling.",
              "Authorization depth: No 403/permission-based checks (if RBAC applies).",
              "Header assertions: Content-Type header value not explicitly asserted; no Accept/content negotiation checks.",
              "Scope hygiene: UI accessibility scenario (TC22) is out of scope for this API feature and should be moved."
            ],
            "recommendations": [
              "Add caching scenarios: capture ETag/Cache-Control on first GET; repeat with If-None-Match to assert 304 and correct cache headers.",
              "Add rate-limiting scenarios: send a burst above configured threshold; assert 429 with Retry-After and X-RateLimit-* headers (or document non-applicability).",
              "Verify defaults: with no query params, assert <=100 results, offset=0 behavior, and audit defaults to NONE (and corresponding audit fields absent/minimal).",
              "Expand validation for query param types: test limit=abc, offset=3.14, extremely large int64 values; expect 400 with clear error schema.",
              "Test pagination consistency: fetch consecutive pages and assert stable ordering, no overlaps/gaps, and consistency across repeated calls.",
              "Introduce JSON Schema/OpenAPI validation step to assert Bundle objects and audit payloads conform to #/definitions/Bundle for all audit modes.",
              "Add searchKey edge cases: URL-encoded reserved chars, spaces, slashes, Unicode, very long inputs, and whitespace-only/empty keys; define expected 200/4xx outcomes.",
              "If RBAC exists, add a 403 scenario for authenticated but unauthorized users; otherwise document not applicable.",
              "Assert headers precisely: Content-Type: application/json; charset=utf-8 and correct handling of Accept; keep existing format checks.",
              "Move TC22 (accessibility) to a UI/UX test suite or tag it to exclude from API contract runs."
            ],
            "usage": {
              "completion_tokens": 5815,
              "prompt_tokens": 5050,
              "total_tokens": 10865,
              "completion_tokens_details": {
                "accepted_prediction_tokens": 0,
                "audio_tokens": 0,
                "reasoning_tokens": 5056,
                "rejected_prediction_tokens": 0
              },
              "prompt_tokens_details": {
                "audio_tokens": 0,
                "cached_tokens": 0
              }
            }
          }
        ]
      }
    ]
  }
}