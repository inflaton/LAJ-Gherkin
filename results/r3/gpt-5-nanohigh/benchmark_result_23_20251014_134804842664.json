{
  "benchmark_config": {
    "benchmark_id": "23_2025-10-14T13:48:04.842626",
    "jira_id": "23",
    "jira_title": "Implement/Test API: GET /1.0/kb/accounts/{accountId}/invoices - Retrieve account invoices",
    "benchmark_status": "completed",
    "total_run": 1,
    "total_passed": 1,
    "total_failed": 0
  },
  "test_config": {
    "benchmark_start_time": "2025-10-14T13:46:34.543383",
    "benchmark_end_time": "2025-10-14T13:48:04.842619",
    "framework": "analyze_gherkin_folder",
    "device": "Unknown",
    "llm_config": {
      "model": "gpt-5-nano",
      "temperature": 1.0,
      "max_tokens": 16384,
      "seed": -1
    }
  },
  "benchmark_results": {
    "average_coverage_percentage": 71,
    "average_generation_time_seconds": 90.299236,
    "benchmark_output": [
      {
        "average_coverage_percentage": 71,
        "generation_time_seconds": 0.0,
        "generated_output_count": 1,
        "status": "completed",
        "gherkin_id": "23_qe_sup-gpt4.1_agent-gpt4.1_1748917429.feature",
        "coverage_analysis": [
          {
            "coverage_percentage": 71,
            "covered": [
              "Valid Request: Multiple scenarios validate successful retrieval for a valid accountId with various query parameters across TC01, TC02, TC03, TC04, TC05, TC06, TC07, and TC20, demonstrating core GET behavior.",
              "Empty Response: Scenario verifies an empty invoices array when the account has no invoices (TC08).",
              "Query Parameters: Extensive coverage of startDate, endDate, withMigrationInvoices, unpaidInvoicesOnly, includeVoidedInvoices, and audit; includes combined parameter scenario (TC07) and ignoring unsupported parameters (TC09).",
              "Authorization: Tests cover missing and invalid tokens resulting in 401 (TC12, TC13).",
              "Error Handling/Validation: Tests for invalid accountId format (TC10), non-existent account (TC11), and invalid inputs (TC15, TC27).",
              "Edge Case Coverage: Tests for edge conditions such as startDate after endDate (TC21), min/max date range (TC22), partial input (TC23), all boolean flags true (TC24), and no invoices match (TC25).",
              "Security: Injection (TC15) and XSS (TC27) scenarios test input handling and rejection.",
              "Performance/Scale: Large dataset (TC16) and slow downstream (TC17) scenarios evaluate performance and resilience.",
              "Resilience/Integration: Concurrent requests (TC18) and downstream inconsistent data (TC28).",
              "Backward Compatibility/Regression: No-query-param compatibility (TC20) and regression checks (TC19).",
              "Documentation/Accessibility: API documentation accessibility test (TC29)."
            ],
            "gaps": [
              "Rate Limiting/Throttling: No explicit tests for rate limits or burst protection (429/503 scenarios).",
              "Caching Behavior: No tests validating caching headers (ETag, Cache-Control) or cache invalidation.",
              "Explicit Pagination Semantics: While TC16 mentions pagination, there are no tests asserting page size, page navigation, or Link headers.",
              "Authorization Scope/403: No tests specifically verifying 403 Forbidden due to insufficient permissions.",
              "Additional parameter validation: Tests for invalid formats beyond those covered (e.g., non-ISO date formats, invalid audit values)."
            ],
            "recommendations": [
              "Add explicit pagination tests validating pageSize/page/offset behavior and presence of paging headers or response metadata.",
              "Add rate limiting tests to ensure the API enforces limits under high load and returns appropriate status codes (e.g., 429).",
              "Add caching tests to verify ETag/Cache-Control headers and proper caching behavior for repeated requests.",
              "Add security-focused tests for permission scopes resulting in 403 and for more robust injection scenarios.",
              "Add tests for additional invalid input scenarios (e.g., incorrect date formats, invalid audit enum values) to strengthen input validation."
            ],
            "usage": {
              "completion_tokens": 10203,
              "prompt_tokens": 6428,
              "total_tokens": 16631,
              "completion_tokens_details": {
                "accepted_prediction_tokens": 0,
                "audio_tokens": 0,
                "reasoning_tokens": 9600,
                "rejected_prediction_tokens": 0
              },
              "prompt_tokens_details": {
                "audio_tokens": 0,
                "cached_tokens": 0
              }
            }
          }
        ]
      }
    ]
  }
}