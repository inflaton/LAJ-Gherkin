{
  "benchmark_config": {
    "benchmark_id": "23_2025-10-15T17:17:25.840101",
    "jira_id": "23",
    "jira_title": "Implement/Test API: GET /1.0/kb/accounts/{accountId}/invoices - Retrieve account invoices",
    "benchmark_status": "completed",
    "total_run": 1,
    "total_passed": 1,
    "total_failed": 0
  },
  "test_config": {
    "benchmark_start_time": "2025-10-15T17:06:37.275792",
    "benchmark_end_time": "2025-10-15T17:17:25.840097",
    "framework": "analyze_gherkin_folder",
    "device": "Unknown",
    "llm_config": {
      "model": "gpt-5",
      "temperature": 1.0,
      "max_tokens": 16384,
      "seed": -1
    }
  },
  "benchmark_results": {
    "average_coverage_percentage": 78,
    "average_generation_time_seconds": 648.564305,
    "benchmark_output": [
      {
        "average_coverage_percentage": 78,
        "generation_time_seconds": 0.0,
        "generated_output_count": 1,
        "status": "completed",
        "gherkin_id": "23_qe_sup-gpt4.1_agent-gpt4.1_1748917429.feature",
        "coverage_analysis": [
          {
            "coverage_percentage": 78,
            "covered": [
              "Valid Request: Happy-path retrieval with and without filters (TC01, TC02, TC03, TC04, TC05, TC06, TC07, TC24).",
              "Empty Response: No invoices for account and no matches under filters (TC08, TC25).",
              "Query Parameters: Broad coverage of date filters, boolean flags, audit levels, combinations, and unsupported params (TC02, TC03, TC04, TC05, TC06, TC07, TC09, TC21, TC22, TC23, TC24).",
              "Authorization: Missing and invalid auth tokens return 401 (TC12, TC13).",
              "Error Handling: 400 for invalid accountId and bad inputs; 404 for non-existent account; 503/504 service/timeout resilience (TC10, TC11, TC14, TC15, TC17).",
              "Security/Robustness: SQLi/XSS attempts rejected (TC15, TC27).",
              "Non-functional: Performance and concurrency expectations covered (TC16, TC17, TC18).",
              "Regression/Compatibility: Unpaid filter regression and backward compatibility covered (TC19, TC20)."
            ],
            "gaps": [
              "Pagination: No explicit tests for pagination mechanics (query params, headers, next/prev links, totals) even for large datasets (TC16 only mentions possible pagination).",
              "Caching Behavior: No checks for ETag/Last-Modified, Cache-Control, or 304 via If-None-Match/If-Modified-Since.",
              "Rate Limiting: No scenarios for throttling or 429 Too Many Requests behavior.",
              "Content Negotiation/Headers: No assertions on Content-Type=application/json as specified by the story, or Accept handling.",
              "Schema Validation: No validation against the Invoice schema definition; only generic assertions about \"Invoice objects\".",
              "Audit Enum Completeness: No explicit test for default audit=NONE behavior or invalid/unsupported audit values (e.g., audit=FOO, case sensitivity).",
              "Date Format Validation: No tests for invalid date formats/values (e.g., 2023-13-01, 2023-02-30, non-ISO), only injection/XSS cases.",
              "Error Body Contract: Tests assert presence of error messages but not the standardized error schema/fields (e.g., code, message, type)."
            ],
            "recommendations": [
              "Add pagination tests: verify page/query parameters (if supported), response headers (e.g., Link, X-Total-Count), navigating next/prev pages, and boundary conditions.",
              "Add caching tests: capture ETag on first 200 response, reissue with If-None-Match to assert 304; verify Cache-Control directives as per API policy.",
              "Introduce rate limiting scenarios: burst concurrent requests to trigger/verify 429 and Retry-After behavior.",
              "Assert response headers: Content-Type=application/json; optionally test Accept negotiation and that unsupported Accept leads to 406 (if applicable).",
              "Validate response schema: assert each invoice matches the Invoice definition (required fields, types, enums).",
              "Expand audit tests: verify default NONE (no audit details), audit=MINIMAL/FULL structure, and reject invalid values/case variations (e.g., audit=foo, audit=full -> 400).",
              "Strengthen date validation: add cases with malformed/non-ISO dates and out-of-range values; ensure correct 400 with clear error.",
              "Standardize error response checks: validate error payload structure (fields like code, message) for 400/404/5xx in addition to status codes."
            ],
            "usage": {
              "completion_tokens": 3204,
              "prompt_tokens": 6428,
              "total_tokens": 9632,
              "completion_tokens_details": {
                "accepted_prediction_tokens": 0,
                "audio_tokens": 0,
                "reasoning_tokens": 2432,
                "rejected_prediction_tokens": 0
              },
              "prompt_tokens_details": {
                "audio_tokens": 0,
                "cached_tokens": 6272
              }
            }
          }
        ]
      }
    ]
  }
}