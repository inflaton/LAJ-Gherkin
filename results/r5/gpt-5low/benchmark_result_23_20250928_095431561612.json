{
  "benchmark_config": {
    "benchmark_id": "23_2025-09-28T09:54:31.561579",
    "jira_id": "23",
    "jira_title": "Implement/Test API: GET /1.0/kb/accounts/{accountId}/invoices - Retrieve account invoices",
    "benchmark_status": "completed",
    "total_run": 1,
    "total_passed": 1,
    "total_failed": 0
  },
  "test_config": {
    "benchmark_start_time": "2025-09-28T09:54:00.304220",
    "benchmark_end_time": "2025-09-28T09:54:31.561574",
    "framework": "analyze_gherkin_folder",
    "device": "Apple M3 Max",
    "llm_config": {
      "model": "gpt-5",
      "temperature": 1.0,
      "max_tokens": 10000,
      "seed": -1
    }
  },
  "benchmark_results": {
    "average_coverage_percentage": 68,
    "average_generation_time_seconds": 31.257354,
    "benchmark_output": [
      {
        "average_coverage_percentage": 68,
        "generation_time_seconds": 0.0,
        "generated_output_count": 1,
        "status": "completed",
        "gherkin_id": "23_qe_sup-gpt4.1_agent-gpt4.1_1748917429.feature",
        "coverage_analysis": [
          {
            "coverage_percentage": 68,
            "covered": [
              "Valid Request: Multiple scenarios validate successful 200 responses with correct filtering (default, date range, boolean flags, audit levels).",
              "Empty Response: Scenarios verify empty arrays when no invoices exist or when filters yield no matches.",
              "Query Parameters: Extensive coverage of combinations and edge cases (startDate/endDate, partial inputs, all booleans true, unsupported params ignored, audit=FULL/MINIMAL, invalid ranges).",
              "Authorization: Missing and invalid tokens return 401.",
              "Error Handling: Invalid accountId (400) and non-existent account (404) covered; injection/XSS inputs rejected; service unavailable (503) and timeout behavior (200/504) covered.",
              "Concurrency/Resilience: Concurrent requests consistency and downstream inconsistencies handled."
            ],
            "gaps": [
              "Pagination: Large dataset scenario does not assert pagination mechanics (page size, cursors/links, total counts) or page traversal.",
              "Rate Limiting: No scenarios to validate throttling behavior or 429 responses under burst traffic.",
              "Caching Behavior: No checks for ETag/If-None-Match, Last-Modified/If-Modified-Since, or Cache-Control headers and 304 Not Modified flows.",
              "Content Negotiation/Headers: No assertions for Content-Type application/json, charset, or Accept handling.",
              "Audit Defaults and Enum Validation: Default audit=NONE not explicitly verified; invalid enum value (non-XSS) behavior not asserted.",
              "Date Format Validation: No explicit test for malformed dates (e.g., 2023-13-40) or invalid ISO formats producing 400/422.",
              "403 Authorization Variant: If role-based authorization applies, no coverage for forbidden access (403).",
              "Response Schema: No strict schema validation of Invoice object fields/types against definitions (beyond being an array)."
            ],
            "recommendations": [
              "Add pagination tests: request first page, follow next/prev links or cursor, verify page size limits, total counts (if provided), and deterministic ordering.",
              "Add rate limiting tests: send bursts to trigger 429, validate Retry-After and proper recovery after backoff.",
              "Add caching tests: capture ETag/Last-Modified, perform conditional GET to assert 304 and header consistency; verify Cache-Control directives.",
              "Assert headers: ensure Content-Type application/json; optionally test Accept negotiation and error response content-type consistency.",
              "Cover audit defaults and enum validation: verify default audit=NONE behavior and 400 on invalid enum (e.g., audit=INVALID).",
              "Strengthen date validation: invalid format values and timezone handling should return 400/422 with clear messages.",
              "If applicable, add 403 authorization scenarios for authenticated but unauthorized principals.",
              "Add response schema validation: validate Invoice fields (ids, amounts, status, dates) and types; ensure voided/migration flags are accurately represented."
            ],
            "usage": {
              "completion_tokens": 1506,
              "prompt_tokens": 6428,
              "total_tokens": 7934,
              "completion_tokens_details": {
                "accepted_prediction_tokens": 0,
                "audio_tokens": 0,
                "reasoning_tokens": 896,
                "rejected_prediction_tokens": 0
              },
              "prompt_tokens_details": {
                "audio_tokens": 0,
                "cached_tokens": 0
              }
            }
          }
        ]
      }
    ]
  }
}